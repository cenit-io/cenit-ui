(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[190],{1001:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a(19),r=a(1),d=(a(0),a(1195)),c=a.n(d),o=a(1164),s=a(17),l=a(91),u=a(162),p=a(1184),_=a(1163),f=["namespace","name","active","data_type","observers","transformation","email_channel","email_data_type"];t.default={title:"E-Mail Notification",icon:Object(r.jsx)(c.a,{component:"svg"}),actions:{index:{fields:[].concat(Object(i.a)(Object(o.a)(f,"transformation")),["updated_at"])},new:{fields:f,seed:function(e){return s.a.get("setup","data_type",e.id,"digest","email_data_type").pipe(Object(l.a)((function(e){var t={observers:[]};if(e){var a=e.id,n=e.namespace,i=e.name;t.email_data_type={_reference:!0,id:a,namespace:n,name:i}}return t})))}}},fields:{data_type:{controlProps:{deleteDisabled:!0}},observers:Object(n.a)(Object(n.a)({},p.a),{},{title:"Triggers",newSeed:function(e){return{data_type:e.parent.propertyValue("data_type").get()}},formConfig:function(){return{fields:{data_type:{control:_.a}}}}}),transformation:Object(n.a)(Object(n.a)({},p.a),{},{newSeed:function(e,t){var a,n=e.parent,i=n.propertyValue("data_type").get();return t&&t.name.includes("Converter")&&(a=n.propertyValue("email_data_type").get()),{source_data_type:i,target_data_type:a}},typesFilter:function(e){return e.filter((function(e){var t=e.name;return t.includes("Template")||t.includes("Converter")}))},formConfig:function(e){var t={fields:{source_data_type:{control:_.a}}};return e.name.includes("Converter")&&(t.fields.target_data_type={control:_.a}),t}}),email_channel:Object(n.a)(Object(n.a)({},p.a),{},{title:"E-Mail Channel"}),email_data_type:Object(n.a)(Object(n.a)({},p.a),{},{title:"Type",controlProps:{deleteDisabled:!0,editDisabled:!0}})},dynamicConfig:function(e,t){var a,n,i=e.id,r=e.data_type,d=e.email_data_type;if((i||r)&&!1!==(null===(a=t.observers)||void 0===a?void 0:a.hidden)&&(t=Object(u.b)(t,{observers:p.b,transformation:p.b,email_channel:p.b,email_data_type:p.b}),n=!0),r&&d&&(t.data_type_id!==r.id||t.email_data_type_id!==d.id)&&(t=Object(u.b)(t,{data_type_id:r.id,email_data_type_id:d.id,observers:{selector:{data_type_id:r.id}},transformation:{selector:{$or:[{type:"Export",source_data_type_id:"$oid#".concat(r.id)},{type:"Export",source_data_type_id:null},{type:"Export",source_data_type_id:{$exists:!1}},{type:"Conversion",source_data_type_id:"$oid#".concat(r.id),target_data_type_id:"$oid#".concat(d.id)}]}}}),n=!0),n)return t},groups:{email_data_type:{title:"e-mail type",variant:"subtitle1",fields:["email_data_type"]}}}},1163:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),i=a(8),r=a(0),d=a(14),c=a(52),o=a(64),s=a(471),l=a(3),u=Object(c.a)((function(e){return{root:{border:"solid 1px ".concat(e.palette.background.default)},title:{minHeight:e.spacing(7),background:e.palette.background.default,borderTopLeftRadius:e.spacing(.5),borderTopRightRadius:e.spacing(.5),alignItems:"center",padding:e.spacing(0,2)},content:{padding:e.spacing(2)}}}));function p(e){var t=e.title,a=e.value,c=e.property,p=e.config,_=Object(d.a)(),f=Object(i.a)(_,2),b=f[0],m=f[1],y=u();Object(r.useEffect)((function(){var e=a.parent.changed().subscribe((function(e){return m({item:e})}));return function(){return e.unsubscribe()}}),[a]);var v=b.item,j=p.viewer||Object(s.a)(c);return Object(n.jsxs)("div",{className:y.root,children:[Object(n.jsx)("div",{className:Object(l.default)("flex",y.title),children:Object(n.jsx)(o.a,{variant:"subtitle2",children:t})}),Object(n.jsx)("div",{className:Object(l.default)("flex justify-content-center",y.content),children:Object(n.jsx)(j,{prop:c,value:a.get(),item:v})})]})}},1164:function(e,t,a){"use strict";function n(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.filter((function(e){return!a.includes(e)}))}a.d(t,"a",(function(){return n}))},1184:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n={hidden:!0},i={hidden:!1}},1195:function(e,t,a){"use strict";var n=a(22),i=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),d=(0,n(a(24)).default)(r.createElement("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9v-2H4V8l8 5 8-5v5h2V6c0-1.1-.9-2-2-2zm-8 7L4 6h16l-8 5zm7 4l4 4-4 4v-3h-4v-2h4v-3z"}),"ForwardToInbox");t.default=d}}]);